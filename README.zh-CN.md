# 深入浅出计算机网络

[英文](./README.md) &nbsp; | &nbsp; 简体中文

## 计算机网络和因特网

### 概念

- 计算机网络: **互连**、**自治**的计算机集合，按覆盖范围可分为广域网、城域网、局域网和个域网
- 节点: 主机节点和数据交换节点（交换机、路由器等分组交换设备）
- 通信链路：接入网链路和主干链路
- 网络协议: 为进行网络中的数据交换而建立的规则、标准或约定

> 互联网（internet）： 泛指由多个计算机网络互连而成的网络

> 因特网（Internet）指当前全球最大的、开放的、由众多网络相互连接而成的特定计算机网络


### 构成

> Internet/ISP结构

#### 网络边缘

主机（端系统）通信模式:

- 客户机/服务器模式  
- 对等（peer-to-peer，P2P）模式
- 混合模式

#### 网络核心

关键功能: **路由**和**转发**


交换：按照某种方式动态地分配传输线路的资源

交换方式:

- 电路交换：电话交换机接通电话线的方式，独享线路资源
- 分组交换：适用于突发式数据传输，存在排队延迟和丢失
- 报文交换

> 路由: 决定分组采用的源到目标的路径

路由器：**存储-转发**分组

#### 接入网和物理介质

- 住宅接入
- 单位机构接入
- 无线移动接入: 无线局域网LAN和广域无线接入

> 接入网: 数字用户线路DSL、电缆网络

### 性能

| 指标项   |  描述   |
| -----     |  -----  |
| 速率   | 连接在计算机网络上的主机在单位时间内数字信道上传送**比特**的速率, 单位为bit/s |
| 带宽  | 单位时间内从网络的某一点到另一点所能通过的**最高数据率**，单位为b/s|
| 吞吐量 | 单位时间内通过某个网络(或信道、接口)的数据量，即时吞吐量和平均吞吐量 |
| 时延  | 发送时延、传播时延、排队时延和处理时延  |
| 时延带宽积 | 传播时延 x 带宽  | 
| 往返时间 | Round Trip Time, RTT |
| 丢包率  | 在一定时间范围内，传输过程中丢失的分组数量与总分组数量的比率 |
| 利用率 |  信道利用率和网络利用率 |

### 分层

分层网络体系结构基本概念:

- 实体: 任何可发送或接收信息的硬件或软件进程
- 对等实体: 收发双方相同层次中的实体
- 服务访问点: 在同一系统中相邻两层的实体交换信息的逻辑接口，用于区分不同的服务类型
- 协议数据单元: 对等层次之间传送的数据包，含有控制信息(地址、差错检测编码和协议控制等)
- 服务数据单元： 同一系统内，层与层之间交换的数据包

> 协议: 定义两个或多个**对等通信实体**之间交换的报文格式和次序，以及在报文传输和接收其他事件方面所采取的动作

协议三要素：语法、语义和同步

OSI体系结构模型:

- **应用层**
- **表示层**
- **会话层**
- **运输层**
- 网络层
- 数据链路层
- 物理层

TCP/IP体系参考模型:

- 应用层
- 运输层
- 网际层
- 网络接口层

> TCP/IP协议族

### 历史

> Internet标准化: [RFC](https://www.ietf.org/rfc/)和IETF

1. 1960 ~ 1980：单个网络ARPANET向互联网（网络的网络）发展
2. 1980 ~ 1990：三级结构的因特网
3. 1990 ~ 至今: 多层次ISP（因特网服务提供者）结构的因特网

**国际标准**和**事实标准**

## 应用层

### [HTTP]()

客户机和服务器进程间通信：IP地址 + 端口号

- 无状态

HTTP连接类型:

- 非持久性连接（HTTP1.0）
- **持久性连接**(HTTP1.1): 无流水和带有**流水机制**

HTTP报文: 请求报文和响应报文

请求命令:

|  命令   |  描述  |
| -----  | -----  |
|  GET   |  从服务器获取资源。用于请求数据而不对数据进行更改  |
|  POST  |  向服务器发送数据以创建新资源。常用于提交表单数据或上传文件 |
|  HEAD   |  类似于 GET，但服务器只返回响应的头部，不返回实际数据。用于检查资源的元数据 |
|  PUT   | 向服务器发送数据以更新现有资源 |
|  PATCH  | 	对资源进行部分修改。与 PUT 类似，但 PATCH 只更改部分数据而不是替换整个资源  |
| DELETE  | 从服务器删除指定的资源。请求中包含要删除的资源标识符 |

常见响应状态码:

|  状态码   |  名称    |   描述  |
|  -----   |  -----  |  -----  |
|  200    | OK | 请求成功  |
|  201    | Created  | 已创建。成功请求并创建了新的资源 |
|  301    | Moved Permanently | 永久移动。请求的资源已被永久的移动到新URI，返回信息会包括新的URI，浏览器会自动定向到新URI |
|  302   | Found | 临时移动。与301类似。但资源只是临时被移动。客户端应继续使用原有URI |
|  304   | Not Modified | 未修改。所请求的资源未修改，服务器返回此状态码时，不会返回任何资源 |
|  400   | Bad Request  | 客户端请求的语法错误，服务器无法理解 |
|  401   | Unauthorized |  请求要求用户的身份认证 |
|  403   | Forbidden   | 服务器理解请求客户端的请求，但是拒绝执行此请求 |
|  404   | Not Found  | 服务器无法根据客户端的请求找到资源（网页） |
|  500   | 	Internal Server Error  | 服务器内部错误，无法完成请求 |
|  505   | HTTP Version not supported | 服务器不支持请求的HTTP协议的版本，无法完成处理 |

> Cookie: 一种由服务器发送到用户浏览器并存储在用户计算机上的小型数据文件，用于在后续访问时能够识别用户或存储用户的偏好设置

缓存/代理服务器

- `If-Modified-Since`

> CDN（Content Delivery Network，内容分发网络）：一种通过分布在不同地理位置的服务器网络来加速内容传输的技术

计算机集群(服务器场)


### [FTP]()

### [Telnet]()

```sh
# 远程登录
telnet www.hit.edu.cn 80

```

### [DNS]()

域名： 根域名、顶级域名和二级域名

### [DHCP]()

### [SMTP]()

邮箱服务器


### [POP3]()


网络应用编程(Socket套接字编程):

```js



```

## 运输层

### [TCP]()

面向连接的服务:

- 可靠的、按顺序传送数据
- 流量控制
- 拥塞控制

> TCP报文段

### [UDP]()

无连接的服务:

- 不可靠的数据传输
- 无流量控制
- 无拥塞控制

> UDP用户数据报

## 网络层：数据平面

### [IP]()

> IP数据报

功能: 逻辑寻址、路由和分组转发
  
## 网络层：控制平面

## 数据链路层和局域网

> 帧和比特流

物理层功能: 接口特性、比特编码、比特同步和传输模式（单工、半双工和全双工）

数据链路层功能: 组帧、物理寻址、流量控制、差错控制和访问控制

## 网络安全

## 无线和移动网络

## 多媒体网络

## 网络管理

## 附录

